<!DOCTYPE html>
<html lang='ja'>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<meta content='noimageindex' name='googlebot'>
<meta content='width=device-width' name='viewport'>
<meta content='telephone=no' name='format-detection'>
<title>Middlemanで静的サイトを作る【Mac】 | yuking11.net</title>
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
<meta name='description'>
<meta content='/about/' name='author'>
<link href='/assets/images/apple-touch-icon.png' rel='apple-touch-icon'>
<link href="/assets/images/favicon.ico" rel="icon" type="image/ico" />
<link href='/index.html' rel='index'>
<link href='/index.html' media='handheld' rel='alternate'>
<!--[if lte IE 8]>
<script src="/assets/javascripts/libs/html5shiv.js" type="text/javascript"></script>
<script src="/assets/javascripts/libs/css3-mediaqueries.js" type="text/javascript"></script>
<![endif]-->
<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" media="all" rel="stylesheet" type="text/css" />
<link href="/assets/stylesheets/application.css" media="all" rel="stylesheet" type="text/css" />
</head>
<body class='blog blog_2014 blog_2014_02 blog_2014_02_03 blog_2014_02_03_start-middleman'>
<header class='header'>
<h1 class='logo'><a class='logo__anchor' href='/'><span class='logo__img'><img alt="yuking11" src="/assets/images/site/logo.png" /></span><span class='logo__name'>yuking11.net</span></a></h1>
<nav class='gnav'>
<ul class='gnav__list'><li><a href="/">Home</a></li><li><a href="/football/">Football</a></li><li><a href="/products/">Products</a></li><li><a href="/about/">About</a></li></ul>
</nav>
</header>

<main class='main' role='main'>
<article class='article'>
<h2 class='article__heading'>Middlemanで静的サイトを作る【Mac】</h2>
<aside class='article__aside'>
<ul class='article__aside_list'>
<li><i class='article__aside--fa fa fa-calendar'></i>
<time datatime='2014-02-03'>Feb  3, 2014</time></li>
<li><i class='article__aside--fa fa fa-tags'></i><a href='/blog/tags/Middleman.html'>Middleman</a></li>
</ul>
</aside>
<div class='article__post'>
<p>普通にhtml/cssを書いてサイト作るのもいいけど、もう少しステップアップというかなんというかぶっちゃけ<strong>エンジニアっぽいことしたい！</strong><br>
そんな方にオススメなのが「<a href="http://middlemanapp.com/jp/">Middleman</a>」というRuby製静的サイトジェネレーター。</p>

<p>静的サイトジェネレーターは他に<a href="http://jekyllrb.com/">jekyll</a>、<a href="http://roots.cx/">roots</a>といったものがあるらしく色々調べてみたのですが、公式サイトがほぼ英語。もうすっごい英語。</p>

<p>「ふむ、なるほど、全然わからん。」</p>

<p>その点Middlemanは有志の方々による日本語化ドキュメントが充実しており、技術力のみならず英語力も平凡な僕は非常にとっつきやすかったです。</p>

<p>というわけで今回はインストールからサイト構築までをやっていこうと思います。<br>
<strong>環境はMac、OS XなのでWindowsの人のお役には立てませんゴメンナサイ。</strong></p>

<h2>Middlemanで出来ること</h2>

<ul>
<li>開発用ローカルサーバーで確認出来る</li>
<li>Livereload（自動更新）もできる ※要設定</li>
<li>いろんなテンプレートが使える</li>
<li>Sass＆Compassが使える</li>
<li>CoffeeScriptも使える</li>
<li>html/css/jsをminify出力してくれる</li>
<li>その他もろもろ</li>
</ul>

<p>SassとかHamlとか使えるのがなんという俺得。</p>

<h2>インストール</h2>

<p>Mac OS Xの場合Xcode Command line toolsが必要なので、<a href="http://itunes.apple.com/us/app/xcode/id497799835?ls=1&amp;amp;amp;amp;mt=12">Mac App Store</a>からインストールしておきます。</p>

<p>続いて本体。<br>
ターミナルを立ち上げて下記を入力し、小指で勢いよくEnterを押す。ターン！</p>

<pre><code class="bsh">gem install middleman
</code></pre>

<p>楽だ。。。</p>

<p>ちゃんとインストール出来たか確認。</p>

<pre><code class="bsh">middleman version
</code></pre>

<p>するとMiddleman 3.2.2と表示されました。<br>
バージョン3.2.2がインストールされたみたいです。やったね。</p>

<h2>プロジェクト作成</h2>

<pre><code class="bsh">middleman init test_project
</code></pre>

<p>これでtest_projectディレクトリが作成され、その中にMiddlemanに必要なライブラリなどがインストールされます。<br>
※test_projectには任意の名前を入れてください</p>

<pre><code class="bsh">      create  test_project/Gemfile
         run  bundle install from &quot;.&quot;
Fetching gem metadata from http://rubygems.org/........
Fetching additional metadata from http://rubygems.org/..
Resolving dependencies...
Using i18n (0.6.9)
Using multi_json (1.8.4)
Using activesupport (3.2.16)
Using bundler (1.5.2)
〜〜〜略〜〜〜
Your bundle is complete!
Use `bundle show [gemname]` to see where a bundled gem is installed.
      create  test_project/.gitignore
      create  test_project/config.rb
      create  test_project/source/index.html.erb
      create  test_project/source/layouts/layout.erb
      create  test_project/source/stylesheets
      create  test_project/source/stylesheets/all.css
      create  test_project/source/stylesheets/normalize.css
      create  test_project/source/javascripts
      create  test_project/source/javascripts/all.js
      create  test_project/source/images
      create  test_project/source/images/background.png
      create  test_project/source/images/middleman.png
</code></pre>

<p>生成されました。</p>

<p>中身はこんな感じです。</p>

<pre><code class="bsh">test_project
├── Gemfile
├── Gemfile.lock
├── config.rb
└── source
　　　├── images
　　　│　　├── background.png
　　　│　　└── middleman.png
　　　├── index.html.erb
　　　├── javascripts
　　　│　　└── all.js
　　　├── layouts
　　　│　　└── layout.erb
　　　└── stylesheets
　　　　　　├── all.css
　　　　　　└── normalize.css
</code></pre>

<h2>サーバーを起動、ブラウザでアクセス</h2>

<p>html.erbって何じゃいという疑問は置いといて、もうこの状態で環境は出来上がっているので早速ブラウザで確認します。</p>

<p>そのためにはまずディレクトリに移動して、ローカルサーバーを立ち上げます。</p>

<pre><code class="bsh">cd test_project
middleman server
(middleman s でも可)
</code></pre>

<p>すると</p>

<pre><code class="bsh">== The Middleman is loading
== The Middleman is standing watch at http://0.0.0.0:4567
== Inspect your site configuration at http://0.0.0.0:4567/__middleman/
</code></pre>

<p>と表示されました。<br>
なにやらURLが書いてあるぞ……</p>

<p>http://0.0.0.0:4567 にアクセスすると……</p>

<p><img alt="Middleman Image" src="/blog/2014/02/03/start-middleman/2014-02-05_01.png" /></p>

<p>ぼい〜んって感じでアニメーションしつつMiddlemanのロゴが出てきました！キモい！</p>

<p>以後、先ほど生成されたファイルを編集することであなた好みのウェブサイトが出来上がっていきます。</p>

<p>ちなみにサーバーを停めたいときはターミナル上で Ctrl+C を押しましょう。</p>

<h2>静的ファイルの書き出し</h2>

<p>最後の仕上げ、生成/編集したファイルを静的ファイルとして書き出しましょう。<br>
ローカルサーバーを停止している状態で、ターミナルから</p>

<pre><code class="bsh">middleman build
</code></pre>

<p>と打つと</p>

<pre><code class="bsh">create  build/images/background.png
create  build/images/middleman.png
create  build/javascripts/all.js
create  build/stylesheets/normalize.css
create  build/stylesheets/all.css
create  build/index.html
</code></pre>

<p>buildディレクトリに静的ファイルが生成されました！<br>
なるほど、index.html.erbがindex.htmlとして生成されるんですね。</p>

<p>あとはbuildディレクトリ内のファイルをサーバーにアップロードすればOK！</p>

<hr>

<p>以上、ざっくりとインストールからサイト構築までやってみました。</p>

<p>これだけだと何が良いのかまったくわからないような気がしますが、冒頭で挙げた色々なテンプレート、設定を加えていくことでWeb開発がかなり楽になると思います。</p>

<p>その辺りのことはまた今度。</p>

<p>おわり。</p>

</div>
</article>
<nav class='entrynate'>
<dlentrynate__nav></dlentrynate__nav>
<dt class='entrynate__heading'>Previous Entry</dt>
<dd class='entrynate__title'><a href="/blog/2014/01/20/start-blog.html">Middlemanでblog始めました</a></dd>
</nav>
<aside class='adsense'>
<script async src='//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js'></script>
<!-- yuking11.net -->
<ins class='adsbygoogle' data-ad-client='ca-pub-9684496717959132' data-ad-format='auto' data-ad-slot='5537397600' style='display:block'></ins>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</aside>


</main>
<aside class='sub'>
<section class='sub__tags'>
<h1 class='sub__heading'>Tags</h1>
<ul class='sub__list'><li><a href="/blog/tags/middleman.html">Middleman</a></li><li><a href="/blog/tags/blog.html">blog</a></li></ul>
</section>
<section class='sub__archives'>
<h1 class='sub__heading'>Archives</h1>
<ul class='sub__list'><li><a href='/blog/2014.html'>2014&nbsp;(2)</a></li></ul>
</section>
<section class='sub__subscribe'>
<h1 class='sub__heading'>Subscribe</h1>
<ul class='sub__list'><li><a target="_blank" href="http://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Fyuking11.net%2Fblog%2Ffeed.xml">feedly</a></li><li><a href="/blog/feed.xml">rss</a></li></ul>
</section>
<section class='sub__search'>
<h1 class='sub__heading'>Search</h1>
<div class='sub__search--inner'>
<form action='http://google.com/cse' class='sub__search_box--form' id='cse-search-box'>
<input name='cx' type='hidden' value='007558188359663617345:aogxh6xtdfm'>
<input name='ie' type='hidden' value='utf-8'>
<input name='q' type='text'>
<i class='fa fa-search'></i>
<input name='sa' type='submit' value='Search'>
</form>
</div>
</section>
</aside>
<footer class='footer'>
<div class='logo'><a class='logo__anchor' href='/'>
<span class='logo__img'><img alt="yuking11" src="/assets/images/site/logo_footer.png" /></span>
<span class='logo__name'>yuking11.net</span>
</a></div>
<p class='footer__note'><small class='footer__note--txt'>Powered&nbsp;by&nbsp;<a target="_blank" href="http://middlemanapp.com/jp/">Middleman</a>&nbsp;and&nbsp;Hosted&nbsp;by&nbsp;<a target="_blank" href="http://pages.github.com/">Github Pages</a>.</small></p>
<p class='footer__note'><small class='footer__note--txt'>(C) yuking11.net All Rights Reserved.</small></p>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>
<script>
  window.jQuery || document.write('<script src="/assets/javascripts/libs/jquery-1.10.2.min.js"><\/script>')
</script>
<!--[if lte IE 8]>
<script src="/assets/javascripts/libs/selectivizr-min.js" type="text/javascript"></script>
<![endif]-->
<script src="/assets/javascripts/libs/css_browser_selector.min.js" type="text/javascript"></script>
<script src="/assets/javascripts/application.js" type="text/javascript"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-47709785-1', 'yuking11.net');
  ga('send', 'pageview');
</script>

</body>
</html>

